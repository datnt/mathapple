<div style="margin-top:65px;" class="row">
  <div class="row">
    <div class="span4">
      <img src="/images/flashcards-icon.png" alt="Flashcards Icon">
      <br>
    </div>
    <div class="span8">
      <table class="table">
        <thead>
          <tr style="font-size: 30px; line-height: 40px;">
            <td>
              Câu Hỏi
            </td>
            <td>
              Câu trả lời
            </td>
            <td>
              Đáp án
            </td>
            <td>
              Chấm
            </td>
          </tr>
        </thead>

        <% @tralois.each do |t| %>
          <tr>
            <td style="font-size: 30px; line-height: 40px;">
              <% c = LoaiCauHoi.find(t.loai_cau_hoi_id) %>
              <%#= eval(c.content).where(:loai_cau_hoi_id => c.id).first.cau_hoi %>



<%=
case c.content.to_s
when "PhepCong"
  render :partial => "/bai_taps/grid_item/phep_cong", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
#when "PhepChia"
  #render :partial => "/bai_taps/form/phep_chia"
when "ChiaPhanso"
  render :partial => "/bai_taps/grid_item/chia_phanso", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "ChiaThapPhan10K"
  render :partial => "/bai_taps/grid_item/chia_thapphan10k", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "ChiaThapPhanTp"
  render :partial => "/bai_taps/grid_item/chia_thapphantp", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "ChiaThapPhanTuNhien"
  render :partial => "/bai_taps/grid_item/chia_thapphantn", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "ChiaTnThapPhan"
  render :partial => "/bai_taps/grid_item/chia_tnthapphan", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "ChiaTnTnThapPhan"
  render :partial => "/bai_taps/grid_item/chia_tntnthapphan", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "CongNhieuThapPhan"
  render :partial => "/bai_taps/grid_item/congnhieutp", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "CongPhanSo"
  render :partial => "/bai_taps/grid_item/congphanso", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "Dodai"
  render :partial => "/bai_taps/grid_item/dodai", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "HonSo"
  render :partial => "/bai_taps/grid_item/honso", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "HonSoThapPhan"
  render :partial => "/bai_taps/grid_item/honsotp", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "NhanPhanso"
  render :partial => "/bai_taps/grid_item/nhanphanso", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "NhanThapPhan10K"
  render :partial => "/bai_taps/grid_item/nhantp10k", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "NhanThapPhanThapPhan"
  render :partial => "/bai_taps/grid_item/nhantptp", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "NhanThapPhanTuNhien"
  render :partial => "/bai_taps/grid_item/nhantptn", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "PhanSoThapPhan"
  render :partial => "/bai_taps/grid_item/phansotp", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "SoSanhPhanSo"
  render :partial => "/bai_taps/grid_item/sosanhps", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "ThapPhanVaTong"
  render :partial => "/bai_taps/grid_item/thapphantong", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "TiSoPhanTram"
  render :partial => "/bai_taps/grid_item/tisophantram", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "TruPhanSo"
  render :partial => "/bai_taps/grid_item/truphanso", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
when "TruThapPhan"
  render :partial => "/bai_taps/grid_item/trutp", :locals => { :pheptinh => eval(c.content).where(:loai_cau_hoi_id => c.id).first }
else "error; co loi"
end
%>


            </td>

            <td style="font-size: 30px; line-height: 40px;">
              <%= t.noidung %>
            </td>
            <td style="font-size: 30px; line-height: 40px;">
              <%= eval(c.content).where(:loai_cau_hoi_id => c.id).first.ketqua %>
            </td>
            <td style="font-size: 30px; line-height: 40px;">
              <%= render :partial => "/cham_bais/box/cham", :locals => {:traloi => t} %>
            </td>

          </tr>
        <% end %>

      </table>
      <a class="btn btn-success" style="font-size: 30px; line-height: 40px;" href="<%= ketthuc_cham_bais_path(:id => @ketqua.bai_tap_id, :kq => @ketqua.id) %>">Kết thúc</a>
    </div>
  </div>
</div>
<script>
  function DanhGia(ketqua, id){
    $.ajax({
      url: "<%= danhgia_cham_bais_path %>",
      type : 'GET',
      data: {
        id: ketqua,
        id_tra_loi: id
      },
      success: function(data){
      },
      error: function(){
      }
    });

  }
</script>